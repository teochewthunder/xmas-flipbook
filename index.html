<!DOCTYPE html>
<html>
	<head>
		<title>Christmas Flipbook</title>

		<style>
			body
			{
				background-color: rgb(0, 0, 40);
				font-size: 12px;
				font-family: arial;
			}

			#container
			{
				width: 600px;
				height: 400px;
				margin: 10% auto 0 auto;
			}

			.section
			{
				width: 50%;
				height:100%;
				outline: 0px solid #FF0000;
				float: left;
			}

			.pageholder
			{
				width: 100%;
				height: 100%;
				outline: 0px solid #0000FF;
				float: left;
			}

			#left_front, #right_front, #left_middle, #right_middle
			{
				margin-left: -100%;
				outline: 0px solid #FFFFFF;
			}

			.cover
			{
				width: 200px;
				height: 300px;	
				padding: 50px;			
			}

			.page
			{
				width: 196px;
				height: 296px;	
				padding: 50px;
				margin-top: 2px;			
			}

			#left .page
			{
/* Permalink - use to edit and share this gradient: https://colorzilla.com/gradient-editor/rgb(200, 200, 150)+0,f9eca7+91,db9200+98,b57e00+100 */
background: -moz-linear-gradient(left,  rgb(200, 200, 150) 0%, rgb(200, 200, 150) 25%, rgb(150, 150, 50) 70%, rgb(50, 50, 10) 100%); /* FF3.6-15 */
background: -webkit-linear-gradient(left,  rgb(200, 200, 150) 0%, rgb(200, 200, 150) 25%, rgb(150, 150, 50) 70%, rgb(50, 50, 10) 100%); /* Chrome10-25,Safari5.1-6 */
background: linear-gradient(to right,  rgb(200, 200, 150) 0%, rgb(200, 200, 150) 25%, rgb(150, 150, 50) 70%, rgb(50, 50, 10) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
				float: right;
			}

			#right .page
			{
/* Permalink - use to edit and share this gradient: https://colorzilla.com/gradient-editor/rgb(200, 200, 150)+0,f9eca7+91,db9200+98,b57e00+100 */
background: -moz-linear-gradient(left,  rgb(50, 50, 10) 0%, rgb(150, 150, 50) 30%, rgb(200, 200, 150) 75%, rgb(200, 200, 150) 100%); /* FF3.6-15 */
background: -webkit-linear-gradient(left,  rgb(50, 50, 10) 0%, rgb(150, 150, 50) 30%, rgb(200, 200, 150) 75%, rgb(200, 200, 150) 100%); /* Chrome10-25,Safari5.1-6 */
background: linear-gradient(to right,  rgb(50, 50, 10) 0%, rgb(150, 150, 50) 30%, rgb(200, 200, 150) 75%, rgb(200, 200, 150) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
			}

			#left .cover
			{
				background: -moz-linear-gradient(left,  rgb(150, 0, 0) 0%, rgb(50, 0, 0) 80%, rgb(30, 0, 0) 100%); /* FF3.6-15 */
				background: -webkit-linear-gradient(left,  rgb(150, 0, 0) 0%, rgb(50, 0, 0) 80%, rgb(30, 0, 0) 100%); /* Chrome10-25,Safari5.1-6 */
				background: linear-gradient(to right,  rgb(150, 0, 0) 0%, rgb(50, 0, 0) 80%, rgb(30, 0, 0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
				box-shadow: 0 3px 0 rgb(100, 0, 0) inset, 3px 0 0 rgb(100, 0, 0) inset, 0 -3px 0 rgb(100, 0, 0) inset;
			}

			#right .cover
			{
				background: -moz-linear-gradient(left,  rgb(30, 0, 0) 0%, rgb(50, 0, 0) 20%, rgb(150, 0, 0) 100%); /* FF3.6-15 */
				background: -webkit-linear-gradient(left,  rgb(30, 0, 0) 0%, rgb(50, 0, 0) 20%, rgb(150, 0, 0) 100%); /* Chrome10-25,Safari5.1-6 */
				background: linear-gradient(to right,  rgb(30, 0, 0) 0%, rgb(50, 0, 0) 20%, rgb(150, 0, 0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
				box-shadow: 0 3px 0 rgb(100, 0, 0) inset, -3px 0 0 rgb(100, 0, 0) inset, 0 -3px 0 rgb(100, 0, 0) inset;
			}

			.pagenumber
			{
				font-size: 0.8em;
				font-weight: bold;
				text-align: center;
				height: 39px;
				border-bottom: 1px solid rgba(100, 100, 100, 0.5);
			}
		</style>

		<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

		<script>
			let book = 
			{
				views: 
				[
					{
						left:
						{
							class: null
						},
						right:
						{
							class: "cover",
							content: "the cover"
						}
					},
					{
						left:
						{
							class: "cover",
							content: "<p style='margin-top:10%;color:rgba(10,0,0,0.5);text-align:center'><b>A flipbook project by<br /><i>TeochewThunder</i></b></p>"					
						},
						right:
						{
							class: "page",
							pagenumber: 1,
							content: "ccc vvv"	
						}
					},
					{
						left:
						{
							class: "page",
							pagenumber: 2,
							content: "ut9789789"				
						},
						right:
						{
							class: "page",
							pagenumber: 3,
							content: "iopuououi"	
						}
					},
					{
						left:
						{
							class: "page",
							pagenumber: 4,
							content: "12345"				
						},
						right:
						{
							class: "page",
							pagenumber: 5,
							content: "xxx yyy"	
						}
					},
					{
						left:
						{
							class: "page",
							content: "the end"				
						},
						right:
						{
							class: "cover",
							content: "back inside cover"	
						}
					},
					{
						left:
						{
							class: "cover",
							content: "back cover"				
						},
						right:
						{
							class: null
						}
					}
				],
				currentView: 0,
				flip: function(dir) 
				{
					if (this.currentView + dir < 0) return;
					if (this.currentView + dir > this.views.length -1) return;

					this.currentView = this.currentView + dir;
					this.renderView();
				},
				renderView: function()
				{
					$(".pageholder").html("");

					if (this.currentView > 0) 
					{
						this.renderPage("left_back", this.views[1].left);

						if (this.currentView > 1) 
						{
							this.renderPage("left_middle", this.views[this.currentView - 1].left);
						}

						this.renderPage("left_front", this.views[this.currentView].left);
					}

					if (this.currentView < this.views.length - 1) 
					{
						this.renderPage("right_back", this.views[this.views.length - 2].right);

						if (this.currentView < this.views.length - 2) 
						{
							this.renderPage("right_middle", this.views[this.currentView].right);
						}

						this.renderPage("right_front", this.views[this.currentView].right);
					}
				},
				renderPage: function(id, obj)
				{
					var div = $("<div></div>");
					div.removeClass("page").removeClass("cover").addClass(obj.class);

					var pagenumber = $("<div></div>");

					if (obj.pagenumber)
					{
						pagenumber.addClass("pagenumber");
						pagenumber.html(obj.pagenumber);
						div.append(pagenumber);
					}

					var content = $("<div></div>");
					content.html(obj.content);
					div.append(content);

					$("#" + id).append(div);
				}
			}

			$(document).ready
			(
				function() { book.renderView(); }
			);
		</script>
	</head>

	<body>
		<div id="container">
			<div id="left" class="section">
				<div id="left_back" class="pageholder">

				</div>

				<div id="left_middle" class="pageholder">

				</div>

				<div id="left_front" class="pageholder">

				</div>
			</div>

			<div id="right" class="section">
				<div id="right_back" class="pageholder">

				</div>

				<div id="right_middle" class="pageholder">

				</div>

				<div id="right_front" class="pageholder">

				</div>
			</div>
		</div>
		<select onchange="book.currentView=this.value; book.renderView();">
			<option value="0">0</option>
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
		</select>
	</body>
</html>